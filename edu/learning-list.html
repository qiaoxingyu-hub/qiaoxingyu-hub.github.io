<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>职教培训内容 - 职教培训及考试应用</title>
    <!-- Tailwind CSS v3 -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#22c55e', // 绿色主色调
                        secondary: '#3b82f6', // 蓝色辅助色
                        neutral: '#f8fafc', // 白色中性色
                        dark: '#1e293b', // 深色
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    },
                    boxShadow: {
                        'custom': '0 4px 20px rgba(0, 0, 0, 0.08)',
                    }
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .card-hover {
                transition: all 0.3s ease;
            }
            .card-hover:hover {
                transform: translateY(-5px);
                box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            }
            .bg-gradient-green {
                background: linear-gradient(135deg, #22c55e 0%, #10b981 100%);
            }
            .bg-gradient-blue {
                background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            }
            .bg-gradient-purple {
                background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
            }
            .bg-gradient-orange {
                background: linear-gradient(135deg, #f97316 0%, #ea580c 100%);
            }
            .bg-gradient-red {
                background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            }
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- 顶部导航栏 -->
    <header class="bg-white shadow-sm sticky top-0 z-10">
        <div class="container mx-auto px-4 py-3 flex items-center justify-between">
            <div class="flex items-center space-x-2">
                <i class="fa fa-graduation-cap text-primary text-2xl"></i>
                <h1 class="text-xl font-bold text-gray-800">职教培训及考试应用</h1>
            </div>
            
            <div class="flex items-center space-x-4">
                <!-- 用户信息 -->
                <div class="hidden md:flex items-center space-x-2">
                    <span id="userName" class="text-gray-700">用户名</span>
                    <span id="userRole" class="px-2 py-1 bg-primary text-white text-xs rounded-full">普通用户</span>
                </div>
                
                <!-- 移动端用户信息 -->
                <div class="md:hidden">
                    <button id="mobileUserMenu" class="flex items-center space-x-1 text-gray-700">
                        <i class="fa fa-user-circle text-xl"></i>
                        <span id="mobileUserName">用户名</span>
                    </button>
                </div>
                
                <!-- 返回首页 -->
                <a href="home.html" class="text-gray-500 hover:text-primary transition-colors">
                    <i class="fa fa-home text-lg"></i>
                    <span class="ml-1 hidden md:inline">首页</span>
                </a>
                
                <!-- 退出登录 -->
                <button id="logoutBtn" class="text-gray-500 hover:text-red-500 transition-colors">
                    <i class="fa fa-sign-out text-lg"></i>
                    <span class="ml-1 hidden md:inline">退出</span>
                </button>
            </div>
        </div>
    </header>

    <!-- 主内容区 -->
    <main class="container mx-auto px-4 py-6">
        <!-- 页面标题 -->
        <section class="mb-8">
            <div class="flex flex-col md:flex-row md:items-center md:justify-between">
                <div>
                    <h2 class="text-2xl font-bold text-gray-800">学习内容</h2>
                    <p class="text-gray-600 mt-1">浏览各类培训主题，提升职业技能</p>
                </div>
                
                <!-- 搜索框 -->
                <div class="mt-4 md:mt-0 w-full md:w-64">
                    <div class="relative">
                        <input type="text" id="searchInput" placeholder="搜索培训主题..."
                            class="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-custom">
                        <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">
                            <i class="fa fa-search"></i>
                        </span>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- 培训主题分类 -->
        <section class="mb-8">
            <div class="bg-white rounded-xl shadow-custom p-4">
                <h3 class="text-lg font-semibold text-gray-800 mb-3">培训主题分类</h3>
                
                <div class="flex flex-wrap gap-2">
                    <button class="category-btn active px-4 py-2 bg-primary text-white rounded-full text-sm font-medium hover:bg-green-600 transition-colors" data-category="all">
                        全部
                    </button>
                    <button class="category-btn px-4 py-2 bg-gray-200 text-gray-700 rounded-full text-sm font-medium hover:bg-gray-300 transition-colors" data-category="safety">
                        安全培训
                    </button>
                    <button class="category-btn px-4 py-2 bg-gray-200 text-gray-700 rounded-full text-sm font-medium hover:bg-gray-300 transition-colors" data-category="business">
                        业务培训
                    </button>
                    <button class="category-btn px-4 py-2 bg-gray-200 text-gray-700 rounded-full text-sm font-medium hover:bg-gray-300 transition-colors" data-category="skill">
                        技能培训
                    </button>
                    <button class="category-btn px-4 py-2 bg-gray-200 text-gray-700 rounded-full text-sm font-medium hover:bg-gray-300 transition-colors" data-category="management">
                        管理培训
                    </button>
                    <button class="category-btn px-4 py-2 bg-gray-200 text-gray-700 rounded-full text-sm font-medium hover:bg-gray-300 transition-colors" data-category="quality">
                        质量培训
                    </button>
                </div>
            </div>
        </section>
        
        <!-- 培训内容列表 -->
        <section>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="learningContentGrid">
                <!-- 内容卡片将通过JavaScript动态生成 -->
            </div>
            
            <!-- 无内容提示 -->
            <div id="noContentMessage" class="text-center py-12 bg-white rounded-xl shadow-custom hidden">
                <i class="fa fa-search text-4xl text-gray-400 mb-3"></i>
                <h3 class="text-lg font-medium text-gray-800 mb-1">未找到相关内容</h3>
                <p class="text-gray-500">请尝试其他搜索关键词或分类</p>
            </div>
        </section>
    </main>

    <!-- 页脚 -->
    <footer class="bg-white border-t border-gray-200 mt-8">
        <div class="container mx-auto px-4 py-6">
            <div class="text-center text-gray-500 text-sm">
                <p>© 2025 职教培训及考试应用. 保留所有权利.</p>
            </div>
        </div>
    </footer>

    <script>
        // 检查登录状态
        const currentUser = JSON.parse(localStorage.getItem('currentUser'));
        
        if (!currentUser) {
            // 如果未登录，跳转到登录页
            window.location.href = 'index.html';
        }
        
        // 更新用户信息
        document.getElementById('userName').textContent = currentUser.name;
        document.getElementById('mobileUserName').textContent = currentUser.name;
        
        // 更新用户角色
        const userRoleElement = document.getElementById('userRole');
        if (currentUser.role === 'admin') {
            userRoleElement.textContent = '管理员';
            userRoleElement.classList.remove('bg-primary');
            userRoleElement.classList.add('bg-secondary');
        }
        
        // 退出登录
        document.getElementById('logoutBtn').addEventListener('click', function() {
            if (confirm('确定要退出登录吗？')) {
                localStorage.removeItem('currentUser');
                window.location.href = 'index.html';
            }
        });
        
        // 移动端用户菜单
        document.getElementById('mobileUserMenu').addEventListener('click', function() {
            alert(`用户名: ${currentUser.name}\n角色: ${currentUser.role === 'admin' ? '管理员' : '普通用户'}`);
        });
        
        // 模拟培训内容数据
        const trainingContent = [
            {
                id: '1',
                title: '安全生产基础知识',
                category: 'safety',
                categoryName: '安全培训',
                description: '学习安全生产的基本概念、法律法规和安全操作规程，提高安全意识。',
                duration: '2小时',
                image: 'https://picsum.photos/id/1/600/400',
                createdAt: '2025-07-15'
            },
            {
                id: '2',
                title: '业务流程与规范',
                category: 'business',
                categoryName: '业务培训',
                description: '详细介绍公司各项业务流程和操作规范，帮助新员工快速熟悉工作内容。',
                duration: '3小时',
                image: 'https://picsum.photos/id/20/600/400',
                createdAt: '2025-07-10'
            },
            {
                id: '3',
                title: '设备操作技能提升',
                category: 'skill',
                categoryName: '技能培训',
                description: '针对生产设备的操作技巧和维护保养进行专业培训，提升操作熟练度。',
                duration: '4小时',
                image: 'https://picsum.photos/id/26/600/400',
                createdAt: '2025-07-05'
            },
            {
                id: '4',
                title: '团队管理与沟通',
                category: 'management',
                categoryName: '管理培训',
                description: '学习有效的团队管理方法和沟通技巧，提高团队协作效率和工作满意度。',
                duration: '2.5小时',
                image: 'https://picsum.photos/id/42/600/400',
                createdAt: '2025-07-01'
            },
            {
                id: '5',
                title: '质量管理体系',
                category: 'quality',
                categoryName: '质量培训',
                description: '介绍质量管理体系的基本原理和实施方法，确保产品和服务质量。',
                duration: '3小时',
                image: 'https://picsum.photos/id/48/600/400',
                createdAt: '2025-06-28'
            },
            {
                id: '6',
                title: '消防安全知识',
                category: 'safety',
                categoryName: '安全培训',
                description: '学习火灾预防、灭火器使用和疏散逃生等消防安全知识，提高应急处理能力。',
                duration: '1.5小时',
                image: 'https://picsum.photos/id/60/600/400',
                createdAt: '2025-06-25'
            },
            {
                id: '7',
                title: '客户服务技巧',
                category: 'business',
                categoryName: '业务培训',
                description: '掌握专业的客户服务技巧，提升客户满意度和忠诚度。',
                duration: '2小时',
                image: 'https://picsum.photos/id/65/600/400',
                createdAt: '2025-06-20'
            },
            {
                id: '8',
                title: '计算机基础操作',
                category: 'skill',
                categoryName: '技能培训',
                description: '针对计算机基础知识和常用办公软件的操作进行培训，提高工作效率。',
                duration: '3.5小时',
                image: 'https://picsum.photos/id/96/600/400',
                createdAt: '2025-06-15'
            },
            {
                id: '9',
                title: '项目管理入门',
                category: 'management',
                categoryName: '管理培训',
                description: '介绍项目管理的基本概念、方法和工具，帮助管理人员提升项目管理能力。',
                duration: '3小时',
                image: 'https://picsum.photos/id/100/600/400',
                createdAt: '2025-06-10'
            }
        ];
        
        // 渲染培训内容列表
        function renderTrainingContent(contentList) {
            const grid = document.getElementById('learningContentGrid');
            const noContentMessage = document.getElementById('noContentMessage');
            
            // 清空现有内容
            grid.innerHTML = '';
            
            if (contentList.length === 0) {
                // 显示无内容提示
                noContentMessage.classList.remove('hidden');
                grid.classList.add('hidden');
                return;
            }
            
            // 隐藏无内容提示
            noContentMessage.classList.add('hidden');
            grid.classList.remove('hidden');
            
            // 渲染内容卡片
            contentList.forEach(content => {
                const card = document.createElement('div');
                card.className = 'card-hover bg-white rounded-xl shadow-custom overflow-hidden';
                
                // 根据分类设置不同的边框颜色
                let categoryColor = '';
                switch (content.category) {
                    case 'safety':
                        categoryColor = 'border-l-4 border-red-500';
                        break;
                    case 'business':
                        categoryColor = 'border-l-4 border-blue-500';
                        break;
                    case 'skill':
                        categoryColor = 'border-l-4 border-green-500';
                        break;
                    case 'management':
                        categoryColor = 'border-l-4 border-purple-500';
                        break;
                    case 'quality':
                        categoryColor = 'border-l-4 border-yellow-500';
                        break;
                    default:
                        categoryColor = 'border-l-4 border-gray-500';
                }
                
                card.innerHTML = `
                    <div class="relative">
                        <img src="${content.image}" alt="${content.title}" class="w-full h-48 object-cover">
                        <span class="absolute top-3 right-3 bg-white text-xs font-medium px-2 py-1 rounded-full ${categoryColor}">
                            ${content.categoryName}
                        </span>
                    </div>
                    <div class="p-6">
                        <h3 class="text-lg font-semibold text-gray-800 mb-2">${content.title}</h3>
                        <p class="text-gray-600 text-sm mb-4 line-clamp-2">${content.description}</p>
                        <div class="flex items-center justify-between text-xs text-gray-500 mb-4">
                            <span><i class="fa fa-clock-o mr-1"></i> ${content.duration}</span>
                            <span><i class="fa fa-calendar mr-1"></i> ${content.createdAt}</span>
                        </div>
                        <a href="learning-detail.html?id=${content.id}" class="block w-full text-center bg-primary hover:bg-green-600 text-white font-medium py-2 rounded-lg transition-colors">
                            开始学习
                        </a>
                    </div>
                `;
                
                grid.appendChild(card);
            });
        }
        
        // 初始渲染所有内容
        renderTrainingContent(trainingContent);
        
        // 分类筛选功能
        const categoryButtons = document.querySelectorAll('.category-btn');
        categoryButtons.forEach(button => {
            button.addEventListener('click', function() {
                // 更新按钮样式
                categoryButtons.forEach(btn => {
                    btn.classList.remove('active', 'bg-primary', 'text-white');
                    btn.classList.add('bg-gray-200', 'text-gray-700');
                });
                this.classList.add('active', 'bg-primary', 'text-white');
                this.classList.remove('bg-gray-200', 'text-gray-700');
                
                // 筛选内容
                const category = this.getAttribute('data-category');
                let filteredContent = trainingContent;
                
                if (category !== 'all') {
                    filteredContent = trainingContent.filter(content => content.category === category);
                }
                
                // 重新渲染
                renderTrainingContent(filteredContent);
            });
        });
        
        // 搜索功能
        const searchInput = document.getElementById('searchInput');
        searchInput.addEventListener('input', function() {
            const searchTerm = this.value.toLowerCase().trim();
            
            if (searchTerm === '') {
                // 如果搜索框为空，显示当前选中分类的内容
                const activeCategory = document.querySelector('.category-btn.active').getAttribute('data-category');
                let filteredContent = trainingContent;
                
                if (activeCategory !== 'all') {
                    filteredContent = trainingContent.filter(content => content.category === activeCategory);
                }
                
                renderTrainingContent(filteredContent);
                return;
            }
            
            // 根据搜索词筛选内容
            const filteredContent = trainingContent.filter(content => 
                content.title.toLowerCase().includes(searchTerm) || 
                content.description.toLowerCase().includes(searchTerm) ||
                content.categoryName.toLowerCase().includes(searchTerm)
            );
            
            // 重新渲染
            renderTrainingContent(filteredContent);
        });
    </script>
</body>
</html>
